<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Car Rental System</title>
  <style>
      /* Global styles */
      body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            color: #fff;
            /* background-color: #f0f0f0; Light gray background color */
        }

        /* Header styles */
        header {
            display: flex;
            width: 100%;
            height: 50px; /* Adjust height as needed */
            background-color: #333; /* Dark gray background color */
            color: #fff; /* White text color */
        }

        h1 {
            flex: 1;
            text-align: left;
            padding-left: 28px;
            line-height: 10px;
        }

        nav {
            flex: 1;
            text-align: right;
            padding-right: 20px;
            line-height: 50px; /* Centering text vertically */
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            display: inline-block;
            margin-left: 10px;
            position: relative; /* For positioning indicator */
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
            position: relative; /* For positioning indicator */
        }

        nav ul li a:hover {
            text-decoration: underline;
        }

        /* Button styles */
        button {
            padding: 10px 20px;
            background-color: #007bff; /* Blue button color */
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0056b3; /* Darker blue on hover */
        }

        /* Styles for car container */
        .car-container {
            display: inline-block;
            width: calc(20% - 20px); /* Adjust the width as needed */
            margin: 10px;
            padding: 10px;
            border: 3px solid #fff;
            border-radius: 20px;
            text-align: center;
            background-size: cover;
            background-color: #a9a3a9a1;
            background-position: center;
            background-blend-mode:hue
           
        }

        /* Styles for calendar inputs */
        
        .unavailable-tag {
            display: inline-block;
            padding: 10px 20px;
            background-color: #d9534f; /* Red background color for unavailable tag */
            color: #fff;
            border-radius: 5px;
        }

        /* Calendar input styles */
        .calendar-input {
            margin-top: 10px;
        }

        /* Custom styles for calendar input */
        .date-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 150px; /* Adjust width as needed */
            box-sizing: border-box;
        }

        .date-input:focus {
            outline: none;
            border-color: #007bff; /* Blue border color on focus */
        }
    main {
      padding: 20px;
    }

    section {
      margin-bottom: 30px;
  
    }

    section h2 {
      margin-bottom: 10px;
    }

    footer {
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 10px 0;
    }

    form {
      margin-bottom: 20px;
    }

    form label {
      margin-right: 10px;
    }

    form input[type="number"] {
      width: 100px;
    }

    form button {
      padding: 8px 20px;
      background-color: #333;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    form button:hover {
      background-color: #555;
    }

    .car-listing {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 20px;
      background-color: #fff;
    }

    .car-listing h3 {
      margin-top: 0;
    }

    .car-listing button {
      background-color: #333;
      color: #fff;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
    }

    .car-listing button:hover {
      background-color: #555;
    }
    
    #search-section {
    display: block;
    padding: 20px;
    background-color: #22112285; /* Light gray background */
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Shadow for a card-like effect */
}

#search-section h2 {
    margin-bottom: 20px; /* Add space below the heading */
}

#car-search-form {
    margin-bottom: 20px; /* Add space below the form */
}

#car-search-form label {
    margin-right: 10px; /* Add space between labels and inputs */
}

#car-search-form select,
#car-search-form input[type="number"] {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 150px; /* Adjust width as needed */
    box-sizing: border-box;
    margin-right: 10px; /* Add space between inputs */
}

#car-search-form button {
    padding: 8px 20px;
    background-color: #007bff; /* Blue button color */
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#car-search-form button:hover {
    background-color: #0056b3; /* Darker blue on hover */
}

#search-results {
    margin-top: 20px; /* Add space above the search results */
}

  </style>
</head>

<body id="body">
  <header>
    <h1>Car Rental System</h1>
    <nav>
      <ul>
        <li><a href="#" id="home-link">Home</a></li>
        <li><a href="#" id="search-link">Search Cars</a></li>
        <li><a href="#" id="bookings-link">My Bookings</a></li>
        <li><a href="#" id="policies-link">Rental Policies</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <section id="search-section" style="display: block;">
      <h2>Search Cars</h2>
      <form id="car-search-form">
        <label for="make">Make:</label>
        <select id="make">
          <option value="">Select Make</option>
          <option value="Toyota">Toyota</option>
          <option value="Honda">Honda</option>
          <option value="Ford">Ford</option>
        </select>
        <label for="model">Model:</label>
        <select id="model">
          <option value="">Select Model</option>
          <option value="Corolla">Corolla</option>
          <option value="Accord">Accord</option>
          <option value="Fusion">Fusion</option>
          <option value="Camry">Camry</option>
          <option value="Civic">Civic</option>
        </select>
        <label for="price-min">Price Min:</label>
        <input type="number" id="price-min" placeholder="Min price">
        <label for="price-max">Price Max:</label>
        <input type="number" id="price-max" placeholder="Max price">
        <button type="submit">Search</button>
      </form>
      <div id="search-results">
        <!-- Search results will be displayed here -->
      </div>
    </section>

    <section id="home-section" style="display: block;">
      <h2>All Cars</h2>
      <div id="all-cars">
        <!-- All cars will be displayed here -->

      </div>
      </div>
    </section>

    <section id="bookings-section" style="display: none;">
      <h2>My Bookings</h2>
      <div id="booking-list">
        <!-- User's bookings will be displayed here -->
      </div>
    </section>

    <section id="policies-section" style="display: none;">
      <h2>Rental Policies</h2>
      <div id="policies-content">
        <!-- Rental policies content will go here -->
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2024 Car Rental System. All rights reserved.</p>
  </footer>

  <script>
    // Simulated database
    let cars = [
      { id: 1, make: "Toyota", model: "Corolla", price: 150, available: true },
      { id: 2, make: "Honda", model: "Accord", price: 110, available: true },
      { id: 3, make: "Ford", model: "Fusion", price: 175, available: true },
      { id: 4, make: "Toyota", model: "Camry", price: 165, available: true },
      { id: 5, make: "Honda", model: "Civic", price: 130, available: true }
    ]; // Array to store all cars
    let bookings = []; // Array to store user's bookings
    const rentalPolicies = "Our rental policies include... ";

    // Function to display section based on link clicked
    function displaySection(sectionId) {
      const sections = document.querySelectorAll('section');
      sections.forEach(section => {
        if (section.id === sectionId) {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }

    // Function to fetch and display all cars
    function displayAllCars() {
    const allCars = document.getElementById('all-cars');
    let html = '';
    cars.forEach((car, index) => {
        html += `<div class="car-container">
                    <p>${car.make} ${car.model}</p>
                    <p>â‚¹${car.price}/Day</p>
                    <div class="calendar-input">
                        <label for="pickup-date-${index}">Pickup Date:</label>
                        <input type="date" id="pickup-date-${index}" required>
                        <label for="return-date-${index}">Return Date:</label>
                        <input type="date" id="return-date-${index}" required>
                    </div>`;
                    
        if (car.available) {
            html += `<button class="reserve-button" onclick="reserveCar(${index})">Reserve</button>`;
        } else {
            html += `<span class="unavailable-tag">Unavailable</span>`;
        }
        html += `<div class="indicator ${car.available ? 'available' : 'unavailable'}"></div>
                </div>`;
    });
    allCars.innerHTML = html;
}
    window.onload = function () {
      displayAllCars();
    };
// Function to handle search form submission
document.getElementById('car-search-form').addEventListener('submit', function (event) {
  event.preventDefault();
  const make = document.getElementById('make').value;
  const model = document.getElementById('model').value;
  const priceMin = document.getElementById('price-min').value;
  const priceMax = document.getElementById('price-max').value;

  // Simulated search functionality
  const filteredCars = cars.filter(car => {
    return (
      (make === '' || car.make === make) &&
      (model === '' || car.model === model) &&
      (priceMin === '' || car.price >= priceMin) &&
      (priceMax === '' || car.price <= priceMax)
    );
  });

  const searchResults = document.getElementById('search-results');
  let html = '';
  if (filteredCars.length === 0) {
    html = '<p>No cars found.</p>';
  } else {
    filteredCars.forEach((car, index) => {
      html += `<div class="car-container">
                            <p>${car.make} ${car.model} - Price:â‚¹${car.price}/Day</p>
                            <div class="calendar-input">
                                <label for="pickup-date-${index}">Pickup Date:</label>
                                <input type="date" id="pickup-date-${index}" required>
                                <label for="return-date-${index}">Return Date:</label>
                                <input type="date" id="return-date-${index}" required>
                            </div>
                            <button onclick="reserveCar(${index})" ${car.available ? '' : 'disabled'}>Reserve</button>
                        </div>`;
    });
  }
  searchResults.innerHTML = html;

  // Display the search section and hide other sections
  displaySection('search-section');
});

    function displayBookings() {
      const bookingList = document.getElementById('booking-list');
      if (bookings.length === 0) {
        bookingList.innerHTML = "<p>You have no bookings yet.</p>";
      } else {
        let html = "<ul>";
        bookings.forEach((booking, index) => {
          html += `<li> <b>Name</b> ${booking.Name} Your ${booking.car} is Booked for ${booking.pickupDate} to ${booking.returnDate}
            <button onclick="cancelReservation(${index})">Cancel</button></li>`;
        });
        html += "</ul>";
        bookingList.innerHTML = html;
      }
    }

    function cancelReservation(index) {
      const canceledBooking = bookings.splice(index, 1)[0];
      const carIndex = cars.findIndex(car => car.make === canceledBooking.car.split(' ')[0] && car.model === canceledBooking.car.split(' ')[1]);
      if (carIndex !== -1) {
        cars[carIndex].available = true;
      }
     
      displayBookings();
    }

    // Call displayBookings() when the bookings section is displayed
    document.getElementById('bookings-link').addEventListener('click', function (event) {
      event.preventDefault();
      displaySection('bookings-section');
      displayBookings();
    });

    // Function to display section based on link clicked
    function displaySection(sectionId) {
      const sections = document.querySelectorAll('section');
      sections.forEach(section => {
        if (section.id === sectionId) {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }

    // Function to display rental policies
    function displayPolicies() {
      const policiesContent = document.getElementById('policies-content');
      policiesContent.innerHTML = `<p>${rentalPolicies}</p>`;
    }



    // Function to reserve a car
    function reserveCar(index) {
      const selectedCar = cars[index];
      const pickupDate = document.getElementById(`pickup-date-${index}`).value;
      const returnDate = document.getElementById(`return-date-${index}`).value;
      if (pickupDate === '' || returnDate === '') {
        alert("Please select both pickup and return dates.");
        return;
      }
      const userName = window.prompt("Please enter your name:");
      // Check if both pickup and return dates are selected

      selectedCar.available = false; // Update availability

      // Add booking to the array
      bookings.push({
        Name: `${userName}`,
        car: `${selectedCar.make}'  ${selectedCar.model}`,
        pickupDate: pickupDate,
        returnDate: returnDate,
      });
  
        alert("Car reserved successfully!");
        displayBookings();
        displayAllCars(); // Update display with updated availability
     
      if (userName) {
        // Logic to reserve the car goes here
        alert(`Thank you, ${userName}! Your reservation for ${cars[index].make} ${cars[index].model} has been successful.`);
      } else {
        alert("Reservation cancelled. Please enter your name to proceed.");
      }
    }

    // Event listeners for navigation links
    document.getElementById('home-link').addEventListener('click', function (event) {
      event.preventDefault();
      displaySection('home-section');
      displayAllCars(); // Display all cars when the home link is clicked
    });

    document.getElementById('search-link').addEventListener('click', function (event) {
      event.preventDefault();
      displaySection('search-section');
    });

    document.getElementById('bookings-link').addEventListener('click', function (event) {
      event.preventDefault();
      displaySection('bookings-section');
      displayBookings(); // Ensure that bookings are displayed when the bookings section is shown
    });

    document.getElementById('policies-link').addEventListener('click', function (event) {
      event.preventDefault();
      displaySection('policies-section');
      displayPolicies(); // Ensure that policies are displayed when the policies section is shown
    });

   // Function to set a random background image using Unsplash based on a keyword
// Function to set a random background image using Unsplash API based on a keyword

        async function setRandomBackgroundImage(elementId, keyword) {
            const element = document.getElementById(elementId);
            const accessKey = 'uWfrJ5iTDNxMYZ53esF7oQ4yYz7oRwfraxESLsNE7CE'; // Replace with your Unsplash API access key
            const unsplashURL = `https://api.unsplash.com/search/photos?page=1&query=${encodeURIComponent(keyword)}&client_id=${accessKey}`;

            try {
                const response = await fetch(unsplashURL);
                if (response.ok) {
                    const data = await response.json();
                    if (data.results.length > 0) {
                        // Select a random image from the results
                        const randomIndex = Math.floor(Math.random() * data.results.length);
                        const imageUrl = data.results[randomIndex].urls.regular;
                        
                        // Set the selected image as the background
                        element.style.backgroundImage = `url(${imageUrl})`;
                        element.style.backgroundSize = 'cover'; // Ensures the image covers the entire element
                        element.style.backgroundPosition = 'center'; // Centers the background image
                    } else {
                        console.error('No images found for the given keyword.');
                    }
                } else {
                    console.error('Failed to fetch images from Unsplash:', response.status, response.statusText);
                }
            } catch (error) {
                console.error('Error fetching image from Unsplash:', error);
            }
        }

        // Sample usage of setRandomBackgroundImage function for each refresh
        setRandomBackgroundImage('body', 'Car Background');


</script>
</body>

</html>   
